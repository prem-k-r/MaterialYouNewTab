<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="shortcut icon" href="../favicon/icon48.png" type="image/png">
    <title>MYNT Language Key Analysis</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
    <style>
        .mynt-lka {
            --mynt-round: 20px;
            --mynt-gap: 16px;
            --mynt-shadow: 0 4px 12px rgba(27, 48, 65, 0.08);
            --mynt-shadow-hover: 0 6px 20px rgba(27, 48, 65, 0.12);

            font-family: var(--main-font-family);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: var(--bg-color-blue);
            color: var(--textColorDark-blue);
            display: flex;
            flex-direction: column;
            align-items: stretch;
            justify-content: flex-start;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .mynt-lka.dark-mode {
            background: #0f1a28;
            color: var(--whitishColor-blue);
            --mynt-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
            --mynt-shadow-hover: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        /* ── Header ── */
        .mynt-lka .tool-header {
            background: linear-gradient(135deg, var(--darkColor-blue) 0%, var(--darkerColor-blue) 100%);
            color: var(--whitishColor-blue);
            padding: 0.8rem 2rem;
            box-shadow: var(--mynt-shadow);
            position: sticky;
            top: 0;
            z-index: 10;
            animation: mynt-headerSlide 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes mynt-headerSlide {
            from {
                opacity: 0;
                transform: translateY(-12px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .mynt-lka .tool-header-inner {
            width: 100%;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: var(--mynt-gap);
        }

        .mynt-lka .tool-brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .mynt-lka .tool-brand-icon {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            object-fit: contain;
            padding: 4px;
            box-sizing: border-box;
        }

        .mynt-lka .tool-brand h1 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 700;
            letter-spacing: 0.02em;
        }

        .mynt-lka .tool-brand span {
            font-size: 0.75rem;
            opacity: 0.9;
            font-weight: 400;
        }

        /* ── Theme toggle ── */
        .mynt-lka .theme-selector {
            display: flex;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 3px;
            gap: 2px;
        }

        .mynt-lka .theme-btn {
            padding: 0.4rem 0.9rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            font-family: inherit;
            color: rgba(255, 255, 255, 0.8);
            background: transparent;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .mynt-lka .theme-btn:hover {
            color: var(--whitishColor-blue);
            background: rgba(255, 255, 255, 0.15);
        }

        .mynt-lka .theme-btn.active {
            background: var(--whitishColor-blue);
            color: var(--darkerColor-blue);
        }

        .mynt-lka .theme-btn.active:hover {
            background: rgba(255, 255, 255, 0.95);
        }

        /* ── Layout ── */
        .mynt-lka main {
            flex: 1;
            padding: 1.5rem;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }

        /* ── Cards ── */
        .mynt-lka .card {
            background: var(--accentLightTint-blue);
            border-radius: var(--mynt-round);
            padding: 1.25rem 1.5rem;
            margin-bottom: 1.25rem;
            box-shadow: var(--mynt-shadow);
            border: 1px solid rgba(67, 130, 236, 0.15);
            transition: box-shadow 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
            animation: mynt-cardFade 0.5s cubic-bezier(0.4, 0, 0.2, 1) backwards;
        }

        .mynt-lka .card:nth-child(1) {
            animation-delay: 0.1s;
        }

        .mynt-lka .card:nth-child(2) {
            animation-delay: 0.2s;
        }

        @keyframes mynt-cardFade {
            from {
                opacity: 0;
                transform: translateY(16px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .mynt-lka.dark-mode .card {
            background: rgba(54, 105, 178, 0.22);
            border-color: rgba(67, 130, 236, 0.25);
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .mynt-lka .card:hover {
            box-shadow: var(--mynt-shadow-hover);
            transform: translateY(-2px);
        }

        .mynt-lka.dark-mode .card:hover {
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
        }

        .mynt-lka .card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--textColorDark-blue);
            margin: 0 0 0.75rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .mynt-lka.dark-mode .card-title {
            color: var(--whitishColor-blue);
        }

        .mynt-lka .card-title::before {
            content: "";
            width: 4px;
            height: 1.1rem;
            background: var(--darkColor-blue);
            border-radius: 2px;
        }

        /* ── Intro text ── */
        .mynt-lka .intro-text {
            color: var(--textColorDark-blue);
            opacity: 0.9;
            font-size: 0.95rem;
            line-height: 1.6;
            margin: 0 0 1.5rem 0;
        }

        .mynt-lka.dark-mode .intro-text {
            color: rgba(255, 255, 255, 0.9);
        }

        /* ── Lists ── */
        .mynt-lka ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .mynt-lka .key-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            border-radius: 12px;
            transition: background 0.2s ease, opacity 0.2s ease;
            font-size: 0.9rem;
        }

        .mynt-lka .key-item.missing {
            background: var(--bg-color-red);
            border-left: 4px solid var(--darkerColor-red);
            color: var(--textColorDark-red);
        }

        .mynt-lka .key-item.extra {
            background: color-mix(in srgb, var(--accentLightTint-blue) 80%, var(--bg-color-blue));
            border-left: 4px solid var(--darkerColor-blue);
        }

        .mynt-lka.dark-mode .key-item.extra {
            background: rgba(54, 105, 178, 0.4);
        }

        .mynt-lka .key-item.complete {
            background: var(--bg-color-green);
            border-left: 4px solid var(--darkerColor-green);
            color: var(--textColorDark-green);
            fill: var(--darkerColor-green);
        }

        .mynt-lka .key-item.checked {
            opacity: 0.5;
        }

        .mynt-lka .key-item.checked span {
            text-decoration: line-through;
        }

        .mynt-lka .key-item code {
            background-color: rgba(0, 0, 0, 0.06);
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        }

        /* ── Checkbox ── */
        .mynt-lka input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid var(--darkerColor-red);
            border-radius: 6px;
            cursor: pointer;
            flex-shrink: 0;
            transition: transform 0.15s ease, background-color 0.2s ease, border-color 0.2s ease;
        }

        .mynt-lka input[type="checkbox"]:hover {
            transform: scale(1.08);
        }

        .mynt-lka input[type="checkbox"]:active {
            transform: scale(0.95);
        }

        .mynt-lka input[type="checkbox"]:checked {
            background: var(--darkerColor-red);
            border-color: var(--darkerColor-red);
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23fff"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>');
            background-size: 14px 14px;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* ── Language groups ── */
        .mynt-lka .language-group {
            margin-bottom: 1rem;
        }

        .mynt-lka .language-group-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 100%;
            padding: 0.875rem 1rem;
            background: var(--bg-color-blue);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            user-select: none;
            font-family: inherit;
            text-align: left;
            transition: background 0.2s ease, transform 0.2s ease;
        }

        .mynt-lka .language-group-header:hover {
            transform: translateX(4px);
            background: color-mix(in srgb, var(--bg-color-blue) 90%, var(--darkColor-blue));
        }

        .mynt-lka .language-group-header:active {
            transform: translateX(2px);
        }

        .mynt-lka .language-group-header:focus-visible {
            outline: 2px solid var(--darkColor-blue);
            outline-offset: 2px;
        }

        .mynt-lka.dark-mode .language-group-header {
            background: rgba(54, 105, 178, 0.35);
        }

        .mynt-lka.dark-mode .language-group-header:hover {
            background: rgba(54, 105, 178, 0.5);
        }

        .mynt-lka .language-group-header::before {
            content: "▼";
            font-size: 0.7rem;
            margin-right: 0.5rem;
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: var(--darkColor-blue);
            display: inline-block;
            flex-shrink: 0;
        }

        .mynt-lka .language-group.collapsed .language-group-header::before {
            transform: rotate(-90deg);
        }

        .mynt-lka .language-group-header-text {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--textColorDark-blue);
        }

        .mynt-lka.dark-mode .language-group-header-text {
            color: var(--whitishColor-blue);
        }

        /* ── Group expand animation ── */
        .mynt-lka .language-group ul {
            overflow: hidden;
            padding: 0.5rem 0 0 1rem;
        }

        .mynt-lka .language-group.collapsed ul {
            display: none;
        }

        .mynt-lka .language-group:not(.collapsed) ul {
            animation: mynt-groupExpand 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes mynt-groupExpand {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        /* Staggered item animation via --i CSS custom property set in JS */
        .mynt-lka .language-group:not(.collapsed) .key-item {
            animation: mynt-itemSlide 0.25s cubic-bezier(0.4, 0, 0.2, 1) backwards;
            animation-delay: calc(var(--i, 0) * 30ms);
        }

        @keyframes mynt-itemSlide {
            from {
                opacity: 0;
                transform: translateX(-8px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* ── Key counts badges ── */
        .mynt-lka .key-counts {
            display: flex;
            gap: 1rem;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .mynt-lka .key-counts .missing-count {
            color: var(--darkerColor-red);
            padding: 0.16rem 0.6rem;
            border-radius: 20px;
            outline: 1px solid var(--darkerColor-red);
        }

        .mynt-lka .key-counts .extra-count {
            color: var(--darkerColor-blue);
            padding: 0.16rem 0.6rem;
            border-radius: 20px;
            outline: 1px solid var(--darkerColor-blue);
        }

        /* ── Alert boxes ── */
        .mynt-lka .alert-box {
            padding: 1rem 1.25rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            font-size: 0.9rem;
            display: none;
        }

        .mynt-lka .alert-box.show {
            display: block;
            animation: mynt-alertSlide 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes mynt-alertSlide {
            from {
                opacity: 0;
                transform: translateY(-8px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .mynt-lka #incomplete-message {
            background: var(--accentLightTint-red);
            color: var(--textColorDark-red);
            border-left: 4px solid var(--darkerColor-red);
        }

        .mynt-lka #extra-keys-message {
            background: color-mix(in srgb, var(--accentLightTint-blue) 70%, var(--bg-color-blue));
            color: var(--textColorDark-blue);
            border-left: 4px solid var(--darkerColor-blue);
        }

        .mynt-lka.dark-mode #extra-keys-message {
            background: rgba(54, 105, 178, 0.35);
            color: rgba(255, 255, 255, 0.95);
            border-left-color: var(--darkColor-blue);
        }

        .mynt-lka.dark-mode #incomplete-message {
            background: rgba(178, 53, 53, 0.25);
            color: #ffb3b3;
            border-left-color: var(--darkerColor-red);
        }

        /* ── Results heading ── */
        .mynt-lka .results-section h2 {
            font-size: 1.25rem;
            font-weight: 600;
            text-align: center;
            margin: 0 0 1rem 0;
            color: var(--textColorDark-blue);
        }

        .mynt-lka.dark-mode .results-section h2 {
            color: var(--whitishColor-blue);
        }

        /* ── Scrollbar ── */
        .mynt-lka ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .mynt-lka ::-webkit-scrollbar-track {
            background: transparent;
        }

        .mynt-lka ::-webkit-scrollbar-thumb {
            background: var(--darkColor-blue);
            border-radius: 4px;
        }

        .mynt-lka ::-webkit-scrollbar-thumb:hover {
            background: var(--darkerColor-blue);
        }
    </style>

    <script src="../locales/pt.js"></script>
    <script src="../locales/en.js"></script>
    <script src="../locales/es.js"></script>
    <script src="../locales/hi.js"></script>
    <script src="../locales/hu.js"></script>
    <script src="../locales/zh.js"></script>
    <script src="../locales/cs.js"></script>
    <script src="../locales/it.js"></script>
    <script src="../locales/tr.js"></script>
    <script src="../locales/bn.js"></script>
    <script src="../locales/vi.js"></script>
    <script src="../locales/ru.js"></script>
    <script src="../locales/uz.js"></script>
    <script src="../locales/ja.js"></script>
    <script src="../locales/ko.js"></script>
    <script src="../locales/idn.js"></script>
    <script src="../locales/mr.js"></script>
    <script src="../locales/fr.js"></script>
    <script src="../locales/az.js"></script>
    <script src="../locales/sl.js"></script>
    <script src="../locales/np.js"></script>
    <script src="../locales/zh_TW.js"></script>
    <script src="../locales/ur.js"></script>
    <script src="../locales/de.js"></script>
    <script src="../locales/fa.js"></script>
    <script src="../locales/ar_SA.js"></script>
    <script src="../locales/el.js"></script>
    <script src="../locales/ta.js"></script>
    <script src="../locales/th.js"></script>
    <script src="../locales/pl.js"></script>
    <script src="../locales/uk.js"></script>
</head>

<body id="mynt-lka" class="mynt-lka light-mode">
    <header class="tool-header">
        <div class="tool-header-inner">
            <div class="tool-brand">
                <img class="tool-brand-icon" src="../favicon/icon128.png" alt="MYNT" width="40" height="40">
                <div>
                    <h1>MYNT Language Key Analysis Tool</h1>
                    <span>Compare translation keys against English</span>
                </div>
            </div>
            <div class="theme-selector" role="group" aria-label="Choose theme">
                <button type="button" class="theme-btn active" id="theme-light" data-theme="light"
                    aria-pressed="true">Light</button>
                <button type="button" class="theme-btn" id="theme-dark" data-theme="dark"
                    aria-pressed="false">Dark</button>
            </div>
        </div>
    </header>

    <main>
        <div id="complete" class="card"></div>
        <section class="card results-section">
            <h2>Language Key Analysis Results</h2>
            <p class="intro-text">
                This tool analyzes language keys across the MYNT project. Any language that has missing keys or contains
                keys not present in English is listed below.
            </p>
            <div id="incomplete-message" class="alert-box">
                The following languages have keys that are missing compared to English.
            </div>
            <div id="extra-keys-message" class="alert-box">
                Some languages contain extra keys not present in English. Consider removing them for consistency.
            </div>
            <div id="results"></div>
        </section>
    </main>

    <script>
        // ─── Locale map ───────────────────────────────────────────────────────────
        const languages = { ar_SA, az, bn, cs, de, el, en, es, fa, fr, hi, hu, idn, it, ja, ko, mr, np, pl, pt, ru, sl, ta, th, tr, uk, ur, uz, vi, zh, zh_TW };

        // ─── DOM refs ─────────────────────────────────────────────────────────────
        const bodyEl = document.getElementById("mynt-lka");
        const resultsDiv = document.getElementById("results");
        const completeDiv = document.getElementById("complete");
        const incompleteMsg = document.getElementById("incomplete-message");
        const extraKeysMsg = document.getElementById("extra-keys-message");

        // ─── SVG icon ─────────────────────────────────────────────────────────────
        const completeIcon = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="18" height="18" aria-hidden="true">
            <path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/>
        </svg>`;

        // ─── Helpers ──────────────────────────────────────────────────────────────

        /** Lightweight element factory. */
        function mkEl(tag, options = {}) {
            const node = document.createElement(tag);
            if (options.className) node.className = options.className;
            if (options.textContent) node.textContent = options.textContent;
            if (options.innerHTML) node.innerHTML = options.innerHTML;
            if (options.attrs) {
                for (const [k, v] of Object.entries(options.attrs)) node.setAttribute(k, v);
            }
            return node;
        }

        // ─── Analysis ─────────────────────────────────────────────────────────────

        /**
         * Compares every language against the reference.
         * Returns an object keyed by language code with { missing, extra, isComplete }.
         */
        function analyseLanguageKeys(reference, allLanguages) {
            const refKeys = Object.keys(reference);
            const refSet = new Set(refKeys);
            const results = {};

            for (const [lang, translations] of Object.entries(allLanguages)) {
                const langKeys = Object.keys(translations);
                const langSet = new Set(langKeys);
                const missing = refKeys.filter(k => !langSet.has(k));
                const extra = langKeys.filter(k => !refSet.has(k));

                results[lang] = {
                    missing,
                    extra,
                    isComplete: missing.length === 0 && extra.length === 0,
                };
            }

            return results;
        }

        // Remove English itself from the comparison map
        const { en: _ref, ...otherLanguages } = languages;
        const analysis = analyseLanguageKeys(en, otherLanguages);

        // Derive flags cleanly from analysis data
        const hasMissingKeys = Object.values(analysis).some(r => r.missing.length > 0);
        const hasExtraKeys = Object.values(analysis).some(r => r.extra.length > 0);

        // ─── Rendering ────────────────────────────────────────────────────────────

        /** Renders the "Completed Languages" card. */
        function renderCompleteCard() {
            const title = mkEl("h3", { className: "card-title", textContent: "Completed Languages" });
            const list = mkEl("ul");

            const completedLangs = Object.entries(analysis).filter(([, r]) => r.isComplete);

            if (completedLangs.length === 0) {
                list.appendChild(mkEl("li", {
                    className: "key-item",
                    textContent: "No languages are fully in sync with English yet.",
                }));
            } else {
                for (const [lang] of completedLangs) {
                    list.appendChild(mkEl("li", {
                        className: "key-item complete",
                        innerHTML: `${completeIcon}<span><strong>${lang}</strong> — up to date, no missing or extra keys</span>`,
                    }));
                }
            }

            completeDiv.appendChild(title);
            completeDiv.appendChild(list);
        }

        /** Renders one collapsible language group (missing + extra keys). */
        function renderLanguageGroup(lang, missing, extra) {
            const group = mkEl("div", { className: "language-group collapsed" });

            // Button header (keyboard-accessible)
            const btn = mkEl("button", {
                className: "language-group-header",
                attrs: {
                    type: "aria-expanded",
                    "aria-expanded": "false",
                    "aria-controls": `group-list-${lang}`,
                },
                innerHTML: `
                    <span class="language-group-header-text">${lang}</span>
                    <span class="key-counts">
                        <span class="missing-count">−${missing.length} missing</span>
                        <span class="extra-count">+${extra.length} extra</span>
                    </span>
                `,
            });
            btn.type = "button";

            btn.addEventListener("click", () => {
                const isCollapsed = group.classList.toggle("collapsed");
                btn.setAttribute("aria-expanded", String(!isCollapsed));
            });

            btn.addEventListener("keydown", (e) => {
                if (e.key === "Enter" || e.key === " ") {
                    e.preventDefault();
                    btn.click();
                }
            });

            group.appendChild(btn);

            // Key list
            const list = mkEl("ul", { attrs: { id: `group-list-${lang}` } });

            missing.forEach((key, i) => {
                const safeId = `cb-${lang}-${key.replace(/[^a-zA-Z0-9_-]/g, "_")}`;
                const li = mkEl("li", {
                    className: "key-item missing",
                    innerHTML: `
                        <input type="checkbox" id="${safeId}" data-lang="${lang}" data-key="${key}" aria-label="Mark '${key}' as resolved">
                        <label for="${safeId}">Missing: <code>${key}</code></label>
                    `,
                });
                li.style.setProperty("--i", i);
                list.appendChild(li);
            });

            extra.forEach((key, i) => {
                const li = mkEl("li", {
                    className: "key-item extra",
                    innerHTML: `<span>Extra: <code>${key}</code></span>`,
                });
                li.style.setProperty("--i", missing.length + i);
                list.appendChild(li);
            });

            group.appendChild(list);
            return group;
        }

        /** Renders the full results section (incomplete languages). */
        function renderResultsList() {
            const container = mkEl("ul");

            for (const [lang, { missing, extra }] of Object.entries(analysis)) {
                if (missing.length === 0 && extra.length === 0) continue;
                container.appendChild(renderLanguageGroup(lang, missing, extra));
            }

            resultsDiv.appendChild(container);
        }

        // ─── Init ─────────────────────────────────────────────────────────────────

        renderCompleteCard();

        if (hasMissingKeys) incompleteMsg.classList.add("show");
        if (hasExtraKeys) extraKeysMsg.classList.add("show");
        if (hasMissingKeys || hasExtraKeys) renderResultsList();

        // Checkbox → strikethrough
        resultsDiv.addEventListener("change", (e) => {
            if (e.target.type === "checkbox") {
                e.target.closest("li").classList.toggle("checked", e.target.checked);
            }
        });

        // ─── Theme ────────────────────────────────────────────────────────────────

        const themeLight = document.getElementById("theme-light");
        const themeDark = document.getElementById("theme-dark");

        function setTheme(theme) {
            const isDark = theme === "dark";
            bodyEl.classList.toggle("dark-mode", isDark);
            themeLight.classList.toggle("active", !isDark);
            themeLight.setAttribute("aria-pressed", String(!isDark));
            themeDark.classList.toggle("active", isDark);
            themeDark.setAttribute("aria-pressed", String(isDark));
        }

        // Detect system preference
        const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        setTheme(prefersDark ? "dark" : "light");
        window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (e) => {
            setTheme(e.matches ? "dark" : "light");
        });

        themeLight.addEventListener("click", () => setTheme("light"));
        themeDark.addEventListener("click", () => setTheme("dark"));
    </script>
</body>

</html>